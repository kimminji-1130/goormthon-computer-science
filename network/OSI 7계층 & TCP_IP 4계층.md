# 🌐 네트워크 이론 정리 - OSI 7계층 & TCP/IP 4계층
<img width="283" alt="스크린샷 2025-05-26 오후 10 36 09" src="https://github.com/user-attachments/assets/58e900df-5202-491a-af1d-ce5053d8bc07" />

## OSI 7계층 (Open Systems Interconnection)

| 계층 | 이름 | 설명 | 대표 장비/프로토콜 |
|------|------|------|------------------|
| 7 | 응용 계층 (Application) | 사용자와 가장 가까운 계층으로, 응용 서비스 제공 | HTTP, FTP, DNS, SMTP 등 |
| 6 | 표현 계층 (Presentation) | 데이터 표현 방식 결정, 암호화/압축/변환 | JPEG, MPEG 등 |
| 5 | 세션 계층 (Session) | 통신 세션 관리 (연결, 유지, 종료) | API, Socket 등 |
| 4 | 전송 계층 (Transport) | 종단 간 신뢰성 있는 데이터 전송, 흐름제어 및 오류제어, 재전송 | TCP, UDP |
| 3 | 네트워크 계층 (Network) | 데이터의 경로 설정 및 논리 주소(IP) 부여 | 라우터, IP |
| 2 | 데이터 링크 계층 (Data Link) | 프레임 단위 전송, MAC 주소 기반 통신 | 스위치, 브리지 |
| 1 | 물리 계층 (Physical) | 전기/기계적 신호로 실제 전송 담당 | 케이블, 허브, 리피터 |

### OSI 7계층을 나누는 이유
- 통신 과정을 단계별로 분리하여 복잡도를 줄이고, 문제 발생 시 해당 계층만 수정 가능
- 표준화된 계층 구조로 제조사 간 상호 운용성 보장

---

## TCP/IP 4계층

TCP/IP 모델은 실제 인터넷에서 사용되는 네트워크 모델로, OSI 7계층을 4개의 계층으로 단순화한 구조이다.

| 계층 | 이름 | 설명 | 주요 프로토콜 |
|------|------|------|---------------|
| 4 | 애플리케이션 계층 | 사용자에게 서비스 제공, OSI 5~7계층 포함 | HTTP, FTP, DNS, SNMP 등 |
| 3 | 전송 계층 | 양 끝단 간 통신을 관리, 신뢰성 보장 | TCP, UDP |
| 2 | 인터넷 계층 | 라우팅 및 주소 지정(IP), 패킷 전달 | IP, ICMP, ARP, RARP |
| 1 | 네트워크 인터페이스 계층 | 물리적 데이터 전송, MAC 주소 기반 | Ethernet, Wi-Fi 등 |

---

## IP (인터넷 프로토콜)

- **역할**: 데이터를 패킷 단위로 나누어 **빠르게 목적지**에 전달하는 것이 목표
- **특징**
  - 순서 보장 ❌
  - 데이터 유실 보완 ❌
  - 연결 설정 ❌ (비연결형 서비스)
- **기타 관련 프로토콜**
  - `ICMP`: 오류 메시지 및 제어 메시지 전송
  - `ARP`: IP 주소로 MAC 주소 조회 (브로드캐스트 요청, 유니캐스트 응답)
  - `RARP`: MAC 주소로 IP 주소 조회 (브로드캐스트 요청, 유니캐스트 응답)

---

## 인캡슐레이션 (Encapsulation) & 디캡슐레이션 (Decapsulation)

- **인캡슐레이션**: 데이터를 하위 계층으로 전달할 때 **헤더를 붙여** 감싸는 과정 (송신 측)
- **디캡슐레이션**: 데이터를 상위 계층으로 전달할 때 **헤더를 제거**하는 과정 (수신 측)

---
## 네트워크에서 데이터 전송되는 과정
<img width="341" alt="스크린샷 2025-05-26 오후 10 59 50" src="https://github.com/user-attachments/assets/a10eb69f-b00a-481b-b849-dc29c905b3ed" />


---

## TCP/IP 4계층 동작 흐름 요약

#### 애플리케이션 계층
클라이언트에서 웹 브라우저가 `www.example.com` 같은 웹페이지 요청을 하면, **HTTP 요청 메시지**가 생성된다. 이 메시지는 TCP/IP 계층 구조의 최상단인 애플리케이션 계층에서 시작된다.


#### 전송 계층
전송 계층에서는 HTTP 요청을 **TCP 세그먼트**로 나누고, 송신자와 수신자의 **포트 번호(예: 80, 443)**를 지정하여, **신뢰성 있는 전송을 보장하기 위한 순서 번호, 오류 검출 정보** 등을 포함시킨다.


#### 인터넷 계층
TCP 세그먼트에 송수신자의 **IP 주소**를 붙여 **IP 패킷**을 생성한다. 이 단계에서는 **라우팅** 등을 고려하여 목적지까지 갈 경로를 결정한다.


#### 네트워크 액세스 계층
IP 패킷을 **프레임(Frame)**으로 감싸고, **수신자의 MAC 주소**를 추가하여 실제 **물리 네트워크**를 통해 전송한다. 이 단계에서는 **이더넷, Wi-Fi** 같은 실제 통신 방식이 사용된다.


#### 수신 측 동작
수신 측 서버에서는 **네트워크 액세스 계층부터 순차적으로 계층을 올라가며** 디캡슐레이션 과정을 거쳐 최종적으로 **HTTP 요청 메시지를 애플리케이션 계층**에 전달한다.


#### 응답 처리
서버는 HTTP 요청을 처리한 뒤, 다시 위와 동일한 방식으로 **HTTP 응답을 캡슐화**해서 클라이언트에 전달한다.


---

## 📌 OSI 7계층 & TCP/IP 4계층 예상 CS 질문

<details>
<summary>OSI 7계층이란 무엇인가요?</summary>

OSI 7계층(Open Systems Interconnection)은 통신 시스템을 7단계로 나눈 모델로, 각 계층은 고유한 기능을 담당하며, 계층 간 인터페이스를 통해 통신 과정을 구조적으로 설명합니다.

1. 물리 계층: 전기 신호 전송
2. 데이터 링크 계층: MAC 주소, 오류 검출
3. 네트워크 계층: 라우팅, IP
4. 전송 계층: TCP, UDP
5. 세션 계층: 세션 제어
6. 표현 계층: 암호화, 인코딩
7. 응용 계층: HTTP, FTP 등 사용자 접근

</details>

<details>
<summary>OSI 7계층은 왜 나눴나요?</summary>

- 복잡한 통신 과정을 **단계별로 분리**하여 문제를 쉽게 추적하고 수정할 수 있게 하기 위함입니다.
- **표준화된 구조**를 통해 서로 다른 시스템 간 통신이 가능하도록 설계되었습니다.
- **재사용성** 및 **유연성**을 높이며, 각 계층별 프로토콜 개발과 유지보수를 용이하게 합니다.
</details>

<details>
<summary>각 계층에서 어떤 장비와 프로토콜이 사용되나요?</summary>

| 계층 | 주요 장비 | 주요 프로토콜 |
|------|------------|----------------|
| 1. 물리 | 허브, 케이블 | 없음 |
| 2. 데이터링크 | 스위치, 브리지 | Ethernet, ARP |
| 3. 네트워크 | 라우터 | IP, ICMP, RARP |
| 4. 전송 | 없음(논리 계층) | TCP, UDP |
| 5. 세션 | 없음(소프트웨어 계층) | API, NetBIOS |
| 6. 표현 | 없음(소프트웨어 계층) | JPEG, MPEG, TLS |
| 7. 응용 | PC, 서버 | HTTP, FTP, SMTP, DNS |

</details>

<details>
<summary>TCP/IP 4계층에 대해 설명해주세요.</summary>

1. **애플리케이션 계층**: 사용자 인터페이스 및 응용서비스 (HTTP, FTP, DNS 등)
2. **전송 계층**: 신뢰성 있는 통신 (TCP) 또는 빠른 통신 (UDP)
3. **인터넷 계층**: 라우팅, IP 주소 지정 (IP, ICMP, ARP, RARP)
4. **네트워크 액세스 계층**: 실제 물리 전송 및 MAC 주소 처리 (Ethernet 등)

</details>

<details>
<summary>OSI와 TCP/IP 모델의 차이는 무엇인가요?</summary>

| 비교 항목 | OSI 7계층 | TCP/IP 4계층 |
|-----------|-----------|---------------|
| 계층 수 | 7개 | 4개 |
| 개발 배경 | 이론적 모델 | 실제 구현 기반 |
| 계층 구성 | 표현, 세션 계층 존재 | 없음 (애플리케이션 계층에 통합됨) |
| 표준화 기관 | ISO | DoD (미국 국방부) |
| 주요 사용 | 이론 교육, 구조적 이해 | 실제 인터넷 통신 기반 모델 |

</details>

<details>
<summary>인캡슐레이션과 디캡슐레이션이란 무엇인가요?</summary>

- **인캡슐레이션**(Encapsulation): 상위 계층의 데이터에 헤더(혹은 트레일러)를 붙여 하위 계층으로 내려보내는 과정.
- **디캡슐레이션**(Decapsulation): 수신 측에서 각 계층에서 붙인 헤더를 제거하며 상위 계층으로 전달하는 과정.

즉, **전송 측은 인캡슐레이션**, **수신 측은 디캡슐레이션**을 수행합니다.

</details>

<details>
<summary>IP는 어떤 프로토콜이며, 어떤 역할을 하나요?</summary>

IP(Internet Protocol)는 인터넷 계층에서 사용되며, **데이터를 목적지까지 전달**하는 일을 합니다.

- 연결 지향이 아닌 **비연결성 프로토콜**
- **패킷의 순서 보장이나 오류 제어 없음**
- **목적지까지의 경로 설정**만 담당 (라우팅)
- **IP 주소 지정**으로 송수신자 구분

</details>

<details>
<summary>ARP와 RARP의 차이점은 무엇인가요?</summary>

| 항목 | ARP | RARP |
|------|-----|------|
| 목적 | IP → MAC 주소 확인 | MAC → IP 주소 확인 |
| 방향 | 송신자가 IP를 알고 있음 | 송신자가 MAC만 알고 있음 |
| 사용 주체 | 일반 호스트 | 디스크 없는 컴퓨터 등 |
| 동작 방식 | 브로드캐스트 요청 → 유니캐스트 응답 | 브로드캐스트 요청 → 유니캐스트 응답 |

</details>


---

## 추가 사항

- **면접 시 꿀팁**: OSI 7계층을 물어봤을 때, 각 계층의 역할을 **하향식 또는 상향식**으로 **정확한 용어**와 함께 말할 수 있도록 준비한다.

